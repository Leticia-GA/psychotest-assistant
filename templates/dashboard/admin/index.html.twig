{% extends 'base.html.twig' %}

{% block content %}
   <main class="container">
        <div class="row">
            <div class="h1 col-9 mt-4 mb-4">Notificaciones</div>
            <hr>
        </div>

        <div class="row">
            {% if notifications is empty %}
                <h4 class="mt-5 pt-5 text-center text-muted fw-bold">No hay ninguna notificación</h4>
                <i class="fa-solid fa-inbox fa-4x text-muted mt-3"></i>
            {% endif %}

            {% for notification in notifications %}
                <div class="col-2 mt-2 mb-2"> 
                    {{ notification.date|date('d-m-Y / H:i:s') }}
                </div>
                <div class="col-10 mt-2 mb-2">
                    <p> 
                    {% if notification is associated_test %}
                        El psicólogo {{ notification.patient.psychologist.name }} 
                        ha asociado el test {{ notification.test.name }} 
                        al paciente {{ notification.patient.name }}

                    {% else %}
                        El paciente {{ notification.associatedTest.patient.name }} 
                        ha realizado el test {{ notification.associatedTest.test.name }} 
                    {% endif %}
                    </p>
                </div>             
            {% endfor %}
        </div>
    </main>
{% endblock %}
